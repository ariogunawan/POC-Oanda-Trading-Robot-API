import numpy as np
import pandas as pd
from talib.abstract import *
# note that all ndarrays must be the same length!
inputs = {
    'open': np.array([107.01200,107.01300,107.01800,107.02800,107.03800,107.07900,107.05400,107.06700,107.08100,107.10500,107.10700,107.08700,107.06000,107.06800,107.07400,107.09100,107.07300,107.06800]),
    'high': np.array([107.05200,107.05200,107.05700,107.05800,107.09700,107.09900,107.08200,107.08700,107.11000,107.14100,107.12300,107.12100,107.09700,107.11600,107.11000,107.11500,107.11700,107.09000]),
    'low': np.array([107.01200,107.01300,107.01800,107.02800,107.03800,107.07900,107.05400,107.06700,107.08100,107.10500,107.10700,107.08700,107.06000,107.06800,107.07400,107.09100,107.07300,107.06800]),
    'close': np.array([107.04300,107.01900,107.05000,107.03800,107.08700,107.08200,107.07600,107.08500,107.10700,107.11300,107.12000,107.08700,107.07400,107.09900,107.10900,107.11000,107.08900,107.07400])
    #'volume': np.random.random(18)
}

x = pd.DataFrame(inputs, columns=inputs.keys())
x['slowk'], x['slowd'] = STOCH(inputs, 5, 1, 0, 3, 0, prices=['high', 'low', 'close'])
x['sma_5'] = SMA(inputs, timeperiod=5, price='open')

print(x)